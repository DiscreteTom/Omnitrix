(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{699:function(t,e,n){"use strict";n.r(e);var r=n(26);n(80),n(5),n(43),n(45),n(665),n(294),n(54),n(62),n(12),n(24),n(78),n(67),n(68);var o={data:function(){return{headers:[{text:"Index",value:"index",sortable:!1},{text:"From",value:"from",sortable:!1},{text:"To",value:"to",sortable:!1},{text:"Content",value:"content",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],subtitles:[],loadingText:!1,currentIndex:0,video:null}},methods:{loadSubtitleText:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t&&null!==(r=t.target)&&void 0!==r&&null!==(o=r.files)&&void 0!==o&&o[0]){n.next=2;break}return n.abrupt("return");case 2:return e.loadingText=!0,e.subtitles=[],e.currentIndex=0,n.next=7,t.target.files[0].text();case 7:n.sent.split("\n").map((function(line){return line.trim()})).filter((function(line){return 0!==line.length})).filter((function(line){return!line.startsWith("#")})).map((function(line,t){return e.subtitles.push({content:line,from:0,to:0,index:t})})),e.loadingText=!1;case 10:case"end":return n.stop()}}),n)})))()},updateVideoSrc:function(t){var e,n;if(null!=t&&null!==(e=t.target)&&void 0!==e&&null!==(n=e.files)&&void 0!==n&&n[0]){this.$refs.videoContainer.innerHTML="",this.video=document.createElement("video"),this.$refs.videoContainer.appendChild(this.video),this.video.controls=!0,this.video.width=620;var source=document.createElement("source");this.video.appendChild(source),source.src=URL.createObjectURL(t.target.files[0])}},apply:function(t){this.subtitles[this.currentIndex][t]=this.video.currentTime,this.currentIndex++,this.currentIndex%=this.subtitles.length},exportBcc:function(){var t={font_size:.4,font_color:"#FFFFFF",background_alpha:.5,background_color:"#9C27B0",Stroke:"none",body:this.subtitles.map((function(line){return{from:line.from,to:line.to,location:2,content:line.content}}))};!function(data,t,e){var n=new Blob([data],{type:e});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(n,t);else{var a=document.createElement("a"),r=URL.createObjectURL(n);a.href=r,a.download=t,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(r)}),0)}}(JSON.stringify(t),"subtitle.bcc","application/json")}}},c=n(63),l=n(66),d=n.n(l),v=n(209),f=n(449),m=n(445),x=n(690),h=n(190),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex"},[n("div",{staticClass:"flex-shrink-0 mr-1",staticStyle:{width:"620px"}}),t._v(" "),n("div",{staticClass:"mr-1",staticStyle:{position:"fixed"}},[n("div",{ref:"videoContainer"},[n("video",{ref:"video",attrs:{controls:"",width:"620"}},[t._v("\n        Sorry, your browser doesn't support embedded videos,\n      ")])]),t._v(" "),n("v-btn",{staticClass:"my-3",attrs:{block:""},on:{click:function(e){return t.$refs.videoFileInput.click()}}},[t._v("\n      OPEN VIDEO FILE\n      "),n("input",{ref:"videoFileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"video/*"},on:{change:function(e){return t.updateVideoSrc(e)}}})]),t._v(" "),n("v-btn",{staticClass:"my-3",attrs:{block:"",loading:t.loadingText},on:{click:function(e){return t.$refs.textFileInput.click()}}},[t._v("\n      Import Subtitle Text\n      "),n("input",{ref:"textFileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"text/*,.md"},on:{change:function(e){return t.loadSubtitleText(e)}}})]),t._v(" "),n("v-btn",{staticClass:"my-3",attrs:{block:""},on:{click:function(e){return t.apply("from")}}},[t._v(" APPLY FROM ")]),t._v(" "),n("v-btn",{staticClass:"my-3",attrs:{block:""},on:{click:function(e){return t.apply("to")}}},[t._v(" APPLY TO ")]),t._v(" "),n("v-btn",{staticClass:"my-3",attrs:{block:""},on:{click:t.exportBcc}},[t._v(" EXPORT BCC ")])],1),t._v(" "),n("div",{staticClass:"flex-grow-1 ml-1"},[n("v-data-table",{attrs:{headers:t.headers,items:t.subtitles,dense:"","hide-default-footer":"","items-per-page":-1},scopedSlots:t._u([{key:"item.index",fn:function(e){var r=e.item;return[r.index==t.currentIndex?n("v-icon",{attrs:{color:"green"}},[t._v("\n          mdi-arrow-right-thin\n        ")]):n("span",[t._v(" "+t._s(r.index+1)+" ")])]}},{key:"item.actions",fn:function(e){var r=e.item;return[n("div",{staticClass:"d-flex"},[n("v-btn",{staticClass:"mx-1",attrs:{icon:"",small:""},on:{click:function(e){t.currentIndex=r.index}}},[n("v-icon",{attrs:{dense:""}},[t._v("mdi-arrow-left-thin")])],1),t._v(" "),n("v-btn",{attrs:{icon:"",small:""},on:{click:function(e){return t.subtitles.pop(r.index)}}},[n("v-icon",{attrs:{dense:""}},[t._v("mdi-close")])],1)],1)]}}],null,!0)}),t._v(" "),n("v-card",[n("v-card-text",[n("v-btn",{attrs:{block:""},on:{click:function(e){return t.subtitles.push({content:"",from:"",to:"",index:t.subtitles.length})}}},[t._v("\n          Add Line\n        ")])],1)],1)],1)])}),[],!1,null,null,null);e.default=component.exports;d()(component,{VBtn:v.a,VCard:f.a,VCardText:m.b,VDataTable:x.a,VIcon:h.a})}}]);